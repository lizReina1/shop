(function(){"use strict";var t={937:function(t,e,a){var s=a(471),i=function(){var t=this,e=t._self._c;return e("div",[e("main",[e("RouterView")],1)])},r=[],o=function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:t.urlImg,alt:""}}),e("h3",[t._v(" "+t._s(t.nombre)+" ")]),e("p",[t._v(" $ "+t._s(t.precio)+" ")])])},n=[],l={name:"Producto",components:{},method:{},props:{nombre:String,precio:Number,urlImg:String}},c=l,d=a(656),u=(0,d.A)(c,o,n,!1,null,"5087d9a0",null),m=u.exports,p={components:{Producto:m},name:"App"},v=p,h=(0,d.A)(v,i,r,!1,null,null,null),f=h.exports,g=a(173),_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("navbar"),t._m(0),e("main",{attrs:{id:"main"}},[e("section",{staticClass:"about",attrs:{id:"about"}},[e("div",{staticClass:"container"},[t._m(1),t._m(2),e("div",{staticClass:"row"},t._l(t.productos,(function(a){return e("div",{key:a.id,staticClass:"col-sm-4"},[e("div",{staticClass:"card"},[e("img",{staticClass:"card-img-top img-fluid rounded mx-auto d-block",staticStyle:{"max-width":"200px"},attrs:{src:a.image,alt:a.name}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[e("b",[t._v(t._s(a.name))])]),e("p",{staticClass:"card-text"},[t._v(t._s(a.description))]),e("p",{staticClass:"card-text"},[t._v("Precio: $"+t._s(a.price))]),e("p",{staticClass:"card-text"},[t._v("Stock: "+t._s(a.stock))]),e("a",{staticClass:"btn btn-primary",attrs:{href:"/login"}},[t._v("Ver detalles")])])])])})),0)])])])],1)},C=[function(){var t=this,e=t._self._c;return e("section",{attrs:{id:"hero"}},[e("div",{staticClass:"hero-container",attrs:{"data-aos":"fade-up"}},[e("h1",[t._v("Bienvenido a LuxeStore")]),e("h2",[t._v("Descubre tu estilo")]),e("a",{staticClass:"btn-get-started scrollto",attrs:{href:"#about"}},[t._v("Empezar")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"row justify-content-end"},[e("div",{staticClass:"col-lg-11"},[e("div",{staticClass:"row justify-content-end"},[e("div",{staticClass:"col-lg-3 col-md-5 col-6 d-md-flex align-items-md-stretch"},[e("div",{staticClass:"count-box py-5"},[e("i",{staticClass:"bi bi-emoji-smile"}),e("span",{staticClass:"purecounter",attrs:{"data-purecounter-start":"0","data-purecounter-end":"65"}},[t._v("1000")]),e("p",[t._v("Clientes felices")])])]),e("div",{staticClass:"col-lg-3 col-md-5 col-6 d-md-flex align-items-md-stretch"},[e("div",{staticClass:"count-box pb-5 pt-0 pt-lg-5"},[e("i",{staticClass:"bi bi-clock"}),e("span",{staticClass:"purecounter",attrs:{"data-purecounter-start":"0","data-purecounter-end":"27"}},[t._v("2")]),e("p",[t._v("Años de experiencia")])])]),e("div",{staticClass:"col-lg-3 col-md-5 col-6 d-md-flex align-items-md-stretch"},[e("div",{staticClass:"count-box pb-5 pt-0 pt-lg-5"},[e("i",{staticClass:"bi bi-award"}),e("span",{staticClass:"purecounter",attrs:{"data-purecounter-start":"0","data-purecounter-end":"22"}},[t._v("7")]),e("p",[t._v("Reconocimientos")])])])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h3",{staticClass:"text-center"},[e("b",[t._v("Estilos")])])])])}],b=a(335),y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"navbar"},[e("header",{staticClass:"fixed-top d-flex align-items-center",attrs:{id:"header"}},[e("div",{staticClass:"container d-flex align-items-center justify-content-between"},[t._m(0),e("nav",{staticClass:"navbar",attrs:{id:"navbar"}},[e("ul",[e("li",[e("a",{staticClass:"getIniciarSesion",on:{click:function(e){return t.insertRuta("/login")}}},[t._v("Iniciar Sesion")])]),e("li",[e("a",{staticClass:"getstarted",on:{click:function(e){return t.insertRuta("/register")}}},[t._v("Registrar")])])]),e("i",{staticClass:"bi bi-list mobile-nav-toggle"})])])])])},w=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("h1",{staticClass:"text-light"},[e("a",{attrs:{href:"index.html"}},[t._v("LuxeStore")])])])}],P={name:"navbar",components:{},data:()=>({rutas:[{nombre:"Home",ruta:"/"},{nombre:"about",ruta:"/about"}]}),methods:{insertRuta(t){console.log(`Navigating to ${t}`),this.$route.path!==t&&this.$router.push(t).catch((t=>{if("NavigationDuplicated"!==t.name)throw t}))}}},x=P,k=(0,d.A)(x,y,w,!1,null,"b6022424",null),S=k.exports,A={name:"HomeView",components:{Navbar:S},data(){return{productos:[]}},async mounted(){try{const t=await b.A.post("http://18.218.15.90:8080/graphql",{query:"\n          {\n            products {\n              brand_id\n              code\n              color_id\n              description\n              id\n              image\n              model_id\n              name\n              price\n              size_id\n              stock\n            }\n          }\n        "});this.productos=t.data.data.products}catch(t){console.error(t)}},methods:{}},$=A,D=(0,d.A)($,_,C,!1,null,"49f105e6",null),q=D.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("navbar"),e("br"),e("AuthForm",{attrs:{title:"Iniciar Sesion",buttonText:"Ingresar",isRegister:!1,linkText:"No tiene cuenta",linkHref:"/register",linkActionText:"Crea una cuenta"},on:{submit:t.handleLogin}})],1)},V=[],N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-form"},[e("div",{staticClass:"Container"},[e("div",{staticClass:"card mt-5",staticStyle:{"background-color":"#fff !important",border:"solid 0px !important"}},[e("div",{staticClass:"upper"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-8 heading"},[e("h4",[e("b",[t._v(t._s(t.title))])])])]),e("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"mt-1",attrs:{id:"alert",role:"alert"}}),t._t("additional-fields"),e("div",{staticClass:"form-element"},[e("span",{attrs:{id:"input-header"}},[t._v("Nombre de Usuario")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],attrs:{type:"text",placeholder:"username",required:""},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})]),e("div",{staticClass:"form-element"},[e("span",{attrs:{id:"input-header"}},[t._v("Password")]),e("div",{staticClass:"row p-0"},[e("div",{staticClass:"d-flex align-items-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",placeholder:"pass*****",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),e("i",{staticClass:"fas fa-eye-slash eye"})])]),e("a",{staticClass:"text-info",attrs:{href:"#"}},[t._v("¿Olvidó su contraseña?")])]),e("div",{staticClass:"form-element"},[e("div",{staticClass:"row invalid"},[e("div",{staticClass:"col-11"},[e("h6",{staticClass:"text-secondary mb-3 text-center"},[e("p",{staticClass:"mb-0"},[t._v(t._s(t.linkText))]),e("a",{staticClass:"text-info",attrs:{href:t.linkHref}},[t._v(t._s(t.linkActionText))])])])])]),e("div",{staticClass:"lower"},[e("button",{staticClass:"btn btn-warning",attrs:{type:"submit",id:"loader"}},[t._v(t._s(t.buttonText))])])],2)])])])])},E=[],M={props:{title:{type:String,required:!0},buttonText:{type:String,required:!0},linkText:{type:String,required:!0},linkHref:{type:String,required:!0},linkActionText:{type:String,required:!0}},data(){return{form:{username:"",password:""}}},methods:{async handleSubmit(){const t=`\n        mutation {\n          loginUser(username: "${this.form.username}", password: "${this.form.password}") {\n            id\n            token\n            username\n            email\n            role\n          }\n        }\n      `;try{const e=await b.A.post("http://18.218.15.90:8080/graphql",{query:t}),a=e.data.data.loginUser;a?(localStorage.setItem("token",a.token),console.log("Login",this.form),localStorage.setItem("username",a.username),localStorage.setItem("role",a.role),this.$router.push({name:"dashboard"})):document.getElementById("alert").innerHTML='<div class="alert alert-danger">Usuario o contraseña incorrectos</div>'}catch(e){console.error(e),document.getElementById("alert").innerHTML='<div class="alert alert-danger">Error en el servidor. Inténtelo más tarde.</div>'}}}},L=M,F=(0,d.A)(L,N,E,!1,null,"5d0c120f",null),j=F.exports,z={name:"login",components:{AuthForm:j,Navbar:S},methods:{handleLogin(t){console.log("Login",t),localStorage.setItem("username",username),localStorage.setItem("role",role),this.$router.push({name:"dashboard"})}}},O=z,I=(0,d.A)(O,T,V,!1,null,null,null),B=I.exports,R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"register"},[e("navbar"),e("br"),e("AuthForm",{attrs:{title:"Crear Cuenta",buttonText:"Registrar",linkText:"Ya tienes una cuenta?",linkHref:"/login",linkActionText:"Iniciar Sesion"},on:{submit:t.handleRegister},scopedSlots:t._u([{key:"additional-fields",fn:function(){return[e("div",{staticClass:"form-element"},[e("span",{attrs:{id:"input-header"}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],attrs:{type:"text",placeholder:"Nombre completo"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),e("div",{staticClass:"form-element"},[e("span",{attrs:{id:"input-header"}},[t._v("Confirmar contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.confirmPassword,expression:"form.confirmPassword"}],attrs:{type:"password",placeholder:"Confirmar contraseña"},domProps:{value:t.form.confirmPassword},on:{input:function(e){e.target.composing||t.$set(t.form,"confirmPassword",e.target.value)}}})])]},proxy:!0}])})],1)},U=[],H={components:{AuthForm:j,Navbar:S},data(){return{form:{username:"",email:"",password:"",name:"",confirmPassword:""}}},methods:{handleRegister(t){t.password===t.confirmPassword?(console.log("Register",t),this.$router.push({name:"dashboard"})):alert("Las contraseñas no coinciden")}}},G=H,K=(0,d.A)(G,R,U,!1,null,"468ad48d",null),Y=K.exports;s["default"].use(g.Ay);const J=[{path:"/login",name:"login",component:B},{path:"/register",name:"register",component:Y}];var W=J,Q=function(){var t=this;t._self._c;return t._m(0)},X=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tienda"},[e("div",{staticClass:"d-flex flex-row"},[e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"card card1 p-3"},[e("div",{staticClass:"image d-flex flex-row align-items-center mt-3"},[e("img",{attrs:{src:"https://i.imgur.com/R4afbIg.png",height:"50",width:"50"}}),e("span",[t._v("Clover")])]),e("hr",{staticClass:"hline"}),e("div",{staticClass:"d-flex flex-column align-items-center"},[e("button",{staticClass:"btn"},[e("i",{staticClass:"fa fa-dashboard"}),e("span",[t._v("Dashboard")])]),e("button",{staticClass:"btn mt-3"},[e("i",{staticClass:"fa fa-users"}),e("span",[t._v("Users")])]),e("button",{staticClass:"btn mt-3"},[e("i",{staticClass:"fa fa-inbox"}),e("span",[t._v("Inbox")])]),e("span",{staticClass:"other mt-4"},[t._v("Other Information")]),e("button",{staticClass:"btn mt-3"},[e("i",{staticClass:"fa fa-book"}),e("span",[t._v("Knowlwdge")])]),e("button",{staticClass:"btn mt-3"},[e("i",{staticClass:"fa fa-question-circle"}),e("span",[t._v("Dashboard")])])])])]),e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"card card2 p-3"},[e("div",{staticClass:"hello d-flex justify-content-end align-items-center mt-3"},[e("span",[t._v("Hi,Frank Jack")])]),e("div",{staticClass:"d-flex flex-row gap-3"},[e("div",{staticClass:"card cardchild mt-3 p-2 px-3 py-3"},[e("div",{staticClass:"d-flex p-2 mt-2 justify-content-between rounded"},[e("div",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"type"},[t._v("Minimal")]),e("span",{staticClass:"number"},[t._v("132")])]),e("div",{staticClass:"d-flex flex-column"},[e("img",{staticClass:"logo1",attrs:{src:"https://i.imgur.com/Slxu74c.png",height:"40",width:"40"}}),e("span",{staticClass:"percentage"},[t._v("45%")])])])]),e("div",{staticClass:"card cardchild mt-3 p-2 px-3 py-3"},[e("div",{staticClass:"d-flex p-2 mt-2 justify-content-between rounded"},[e("div",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"type"},[t._v("Mild")]),e("span",{staticClass:"number"},[t._v("120")])]),e("div",{staticClass:"d-flex flex-column"},[e("img",{staticClass:"logo2",attrs:{src:"https://i.imgur.com/7SEdq7z.png",height:"40",width:"40"}}),e("span",{staticClass:"percentage2"},[t._v("25%")])])])]),e("div",{staticClass:"card cardchild mt-3 p-2 px-3 py-3"},[e("div",{staticClass:"d-flex p-2 mt-2 justify-content-between rounded"},[e("div",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"type"},[t._v("Moderate")]),e("span",{staticClass:"number"},[t._v("25")])]),e("div",{staticClass:"d-flex flex-column"},[e("img",{staticClass:"logo3",attrs:{src:"https://i.imgur.com/xvUzRjK.png",height:"40",width:"40"}}),e("span",{staticClass:"percentage3"},[t._v("17%")])])])]),e("div",{staticClass:"card cardchild mt-3 p-2 px-3 py-3"},[e("div",{staticClass:"d-flex p-2 mt-2 justify-content-between rounded"},[e("div",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"type"},[t._v("Severe")]),e("span",{staticClass:"number"},[t._v("5")])]),e("div",{staticClass:"d-flex flex-column"},[e("img",{staticClass:"logo4",attrs:{src:" https://i.imgur.com/iLU5F9A.png",height:"40",width:"40"}}),e("span",{staticClass:"percentage4"},[t._v("13%")])])])])]),e("div",{staticClass:"d-flex justify-content-center mt-5 gap-2 p-3"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"card cardchildchild p-2"},[e("div",{staticClass:"profile1"},[e("img",{staticClass:"rounded-circle",attrs:{src:"https://i.imgur.com/NI5b1NX.jpg",height:"90",width:"90"}})]),e("div",{staticClass:"d-flex flex-column justify-content-center align-items-center mt-5"},[e("span",{staticClass:"name"},[t._v("Bess Wills")]),e("span",{staticClass:"mt-1 braceletid"},[t._v("Bracelet ID:SFG 38393")]),e("span",{staticClass:"dummytext mt-3 p-3"},[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit.Text elit more smtit.Kimto lee. ")])]),e("div",{staticClass:"d-flex justify-content-center align-items-center mt-3"},[e("button",{staticClass:"btn1"},[t._v("Next Appoinment")])]),e("div",{staticClass:"icons d-flex flex-row justify-content-center gap-3 mt-4"},[e("span",[e("i",{staticClass:"fa fa-google"})]),e("span",[e("i",{staticClass:"fa fa-facebook"})]),e("span",[e("i",{staticClass:"fa fa-twitter"})]),e("span",[e("i",{staticClass:"fa fa-instagram"})])])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"card cardchildchild p-2"},[e("div",{staticClass:"profile1"},[e("img",{staticClass:"rounded-circle",attrs:{src:"https://i.imgur.com/YyoCGsa.jpg",height:"90",width:"90"}})]),e("div",{staticClass:"d-flex flex-column justify-content-center align-items-center mt-5"},[e("span",{staticClass:"name"},[t._v("Bess Wills")]),e("span",{staticClass:"mt-1 braceletid"},[t._v("Bracelet ID:SFG 38393")]),e("span",{staticClass:"dummytext mt-3 p-3"},[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit.Text elit more smtit.Kimto lee. ")])]),e("div",{staticClass:"d-flex justify-content-center align-items-center mt-3"},[e("button",{staticClass:"btn2"},[t._v("Next Appoinment")])]),e("div",{staticClass:"icons d-flex flex-row justify-content-center gap-3 mt-4"},[e("span",[e("i",{staticClass:"fa fa-google"})]),e("span",[e("i",{staticClass:"fa fa-facebook"})]),e("span",[e("i",{staticClass:"fa fa-twitter"})]),e("span",[e("i",{staticClass:"fa fa-instagram"})])])])])])])])])])}],Z={name:"tienda"},tt=Z,et=(0,d.A)(tt,Q,X,!1,null,null,null),at=et.exports;s["default"].use(g.Ay);const st=[{path:"/tienda",name:"tienda",component:at}];var it=st,rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dashboard"},[e("div",[e("sidebar")],1)])},ot=[],nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-2 my-lg-0 my-md-1"},[e("div",{staticClass:"bg-purple mb-3",attrs:{id:"sidebar"}},[t._m(0),e("ul",[t.showDashboardLink?e("li",{class:{active:"Dashboard"===t.activeTab}},[e("a",{staticClass:"text-decoration-none d-flex align-items-start",attrs:{href:"https://dashboardpython-production.up.railway.app/"},on:{click:function(e){return t.activateTab("Dashboard")}}},[e("div",{staticClass:"fas fa-box pt-2 me-3"}),t._m(1)])]):t._e(),t.showVentasLink?e("li",{class:{active:"Ventas"===t.activeTab}},[e("a",{staticClass:"text-decoration-none d-flex align-items-start",attrs:{href:"#"},on:{click:function(e){return t.activateTab("Ventas")}}},[e("div",{staticClass:"fas fa-box-open pt-2 me-3"}),t._m(2)])]):t._e(),t.showComprasLink?e("li",{class:{active:"Compras"===t.activeTab}},[e("a",{staticClass:"text-decoration-none d-flex align-items-start",attrs:{href:"#"},on:{click:function(e){return t.activateTab("Compras")}}},[e("div",{staticClass:"far fa-address-book pt-2 me-3"}),t._m(3)])]):t._e(),t.showProductosLink?e("li",{class:{active:"Productos"===t.activeTab}},[e("a",{staticClass:"text-decoration-none d-flex align-items-start",attrs:{href:"#"},on:{click:function(e){return t.activateTab("Productos")}}},[e("div",{staticClass:"far fa-user pt-2 me-3"}),t._m(4)])]):t._e(),t.showUsuariosLink?e("li",{class:{active:"Usuarios"===t.activeTab}},[e("a",{staticClass:"text-decoration-none d-flex align-items-start",attrs:{href:"#"},on:{click:function(e){return t.activateTab("Usuarios")}}},[e("div",{staticClass:"fas fa-headset pt-2 me-3"}),t._m(5)])]):t._e(),t.showProveedorLink?e("li",{class:{active:"Proveedor"===t.activeTab}},[e("a",{staticClass:"text-decoration-none d-flex align-items-start",attrs:{href:"#"},on:{click:function(e){return t.activateTab("Proveedor")}}},[e("div",{staticClass:"fas fa-headset pt-2 me-3"}),t._m(6)])]):t._e(),t.showClienteLink?e("li",{class:{active:"Cliente"===t.activeTab}},[e("a",{staticClass:"text-decoration-none d-flex align-items-start",attrs:{href:"#"},on:{click:function(e){return t.activateTab("Cliente")}}},[e("div",{staticClass:"fas fa-headset pt-2 me-3"}),t._m(7)])]):t._e()]),e("div",{staticClass:"row",staticStyle:{"margin-top":"190px"}},[e("button",{staticClass:"btn btn-light",on:{click:t.logout}},[t._v(" Salir ")])])])]),e("div",{staticClass:"col my-lg-0 my-1"},[e("div",{staticClass:"bg-white border",attrs:{id:"main-content"}},[e("div",{staticClass:"d-flex flex-column"},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("div",{staticClass:"container"},[t._m(8),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"mynav"}},[e("ul",{staticClass:"navbar-nav ms-auto mb-2 mb-lg-0"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[e("span",{staticClass:"fas fa-user pe-2"},[t._v(t._s(t.username))])])])])])])])]),e("div",[e("div",{staticClass:"col-sm-10"},[t.activeTab?e("div",["Ventas"===t.activeTab?e("div",[e("venta")],1):t._e(),"Compras"===t.activeTab?e("div",[e("compra")],1):t._e(),"Productos"===t.activeTab?e("div",[e("productos")],1):t._e(),"Usuarios"===t.activeTab?e("div",[e("usuarios")],1):t._e(),"Proveedor"===t.activeTab?e("div",[e("proveedor")],1):t._e(),"Cliente"===t.activeTab?e("div",[e("cliente")],1):t._e()]):e("h1",[t._v("Bienvenido")])])])])])])},lt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"h4 text-white mt-4 text-center",staticStyle:{"margin-bottom":"50px"}},[t._v("LuxeStore")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"link"},[t._v("Dashboard")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"link"},[t._v("Ventas")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"link"},[t._v("Compras")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"link"},[t._v("Productos")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"link"},[t._v("Usuarios")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"link"},[t._v("Proveedor")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"link"},[t._v("Clientes")])])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#mynav","aria-controls":"mynav","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],ct=function(){var t=this,e=t._self._c;return e("div",[t.isFormVisible?e("venta-form",{attrs:{venta:t.selectedVenta,isEditing:t.isEditing},on:{submit:t.handleFormSubmit,cancelar:t.cancelarOperacion}}):e("venta-list",{attrs:{ventas:t.ventas},on:{create:t.handleCreate,edit:t.handleEdit,view:t.handleView,delete:t.handleDelete}})],1)},dt=[],ut=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"VentaForm"}},[e("div",{staticClass:"container formventa justify-content-center"},[e("div",{staticClass:"row justify-content-center"},[e("h4",[e("b",[t._v(t._s(t.isEditing?"Editar Venta":"Crear Venta"))])])]),e("div",{staticClass:"row"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"row"},[e("label",{staticClass:"bold-label",attrs:{for:"cliente"}},[t._v(" Cliente ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.venta.cliente,expression:"venta.cliente"}],staticClass:"form-control",attrs:{id:"cliente",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.venta,"cliente",e.target.multiple?a:a[0])}}},t._l(t.clientes,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.venta.date,expression:"venta.date"}],staticClass:"form-control",attrs:{type:"date",id:"date",required:""},domProps:{value:t.venta.date},on:{input:function(e){e.target.composing||t.$set(t.venta,"date",e.target.value)}}})]),e("div",{staticClass:"col-sm-6"},[t._m(1),e("select",{directives:[{name:"model",rawName:"v-model",value:t.venta.metodopago,expression:"venta.metodopago"}],staticClass:"form-control",attrs:{id:"metodopago",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.venta,"metodopago",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"qr"}},[t._v("Pago con QR")]),e("option",{attrs:{value:"cash"}},[t._v("Pago en efectivo")]),e("option",{attrs:{value:"card"}},[t._v("Pago con tarjeta")])])])]),t._m(2),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("label",{attrs:{for:"producto"}},[t._v("Producto")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.nuevoProducto.id,expression:"nuevoProducto.id"}],staticClass:"form-control",attrs:{id:"producto"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.nuevoProducto,"id",e.target.multiple?a:a[0])}}},t._l(t.productos,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0)]),e("div",{staticClass:"col-sm-4"},[e("label",{attrs:{for:"cantidad"}},[t._v("Cantidad")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nuevoProducto.cantidad,expression:"nuevoProducto.cantidad"}],staticClass:"form-control",attrs:{type:"number",id:"cantidad",required:""},domProps:{value:t.nuevoProducto.cantidad},on:{input:function(e){e.target.composing||t.$set(t.nuevoProducto,"cantidad",e.target.value)}}})]),e("div",{staticClass:"col-sm-4"},[e("button",{staticClass:"btn btn-light mt-4",on:{click:function(e){return e.preventDefault(),t.agregarProducto.apply(null,arguments)}}},[t._v("Agregar")])])]),e("div",{staticClass:"row"},[e("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields}})],1)]),e("div",{staticClass:"row",staticStyle:{"justify-content":"end"}},[e("div",{staticClass:"col-sm-2"},[e("div",{staticClass:"form-group"},[t._m(3),e("input",{directives:[{name:"model",rawName:"v-model",value:t.venta.total,expression:"venta.total"}],staticClass:"form-control",attrs:{type:"text",id:"total",required:"",readonly:""},domProps:{value:t.venta.total},on:{input:function(e){e.target.composing||t.$set(t.venta,"total",e.target.value)}}})])])]),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-sm-4"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(t._s(t.isEditing?"Guardar Cambios":"Crear"))])]),e("div",{staticClass:"col-sm-4"},[e("button",{staticClass:"btn btn-dark",on:{click:function(e){return e.preventDefault(),t.cancelarOperacion.apply(null,arguments)}}},[t._v("Cancelar")])])])])])])])},mt=[function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"date"}},[e("b",[t._v("Fecha")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"metodopago"}},[e("b",[t._v("Método Pago")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("label",{attrs:{for:""}},[e("b",[t._v("Productos")])])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"total"}},[e("b",[t._v("Total")])])}],pt={name:"VentaForm",props:{venta:{type:Object,default:()=>({cliente:"",date:"",metodopago:"",productos:[],total:0})},isEditing:{type:Boolean,default:!1}},data(){return{nuevoProducto:{id:"",nombre:"",cantidad:1},items:[],productos:[],clientes:[],fields:[{key:"Producto",label:"Producto"},{key:"Precio",label:"Precio"},{key:"Cantidad",label:"Cantidad"},{key:"Total",label:"Total"}]}},created(){this.fetchProductos(),this.fetchClientes(),this.isEditing&&this.fetchVentaDetails(this.venta.id)},methods:{fetchProductos(){b.A.post("http://18.218.15.90:8080/graphql",{query:"\n          {\n            products {\n              id\n              name\n            }\n          }\n        "}).then((t=>{this.productos=t.data.data.products})).catch((t=>{console.error(t)}))},fetchClientes(){b.A.post("http://18.218.15.90:8080/graphql",{query:"\n          {\n            customers {\n              id\n              name\n            }\n          }\n        "}).then((t=>{this.clientes=t.data.data.customers})).catch((t=>{console.error(t)}))},fetchProductoId(t){return b.A.post("http://18.218.15.90:8080/graphql",{query:`\n      {\n        product(id: "${t}") {\n            brand_id\n            color_id\n            code\n            description\n            id\n            image\n            model_id\n            name\n            price\n            size_id\n            stock\n        }\n      }\n    `}).then((t=>{const e=t.data.data.product;return e.name})).catch((t=>(console.error(t),"")))},fetchVentaDetails(t){b.A.post("http://18.218.15.90:8080/graphql",{query:`\n      {\n        sale(id: "${t}") {\n          id\n          date\n          total\n          payment_type\n          quantity_items\n          customer_id\n          user_id\n          details {\n            product_id\n            sale_id\n            quantity\n            price\n            total\n          }\n        }\n      }\n    `}).then((t=>{const e=t.data.data.sale;console.log("edit",e),this.venta.date=e.date,this.venta.metodopago=e.payment_type,this.venta.cliente=e.customer_id,this.venta.total=e.total,Promise.all(e.details.map((t=>this.fetchProductoId(t.product_id)))).then((t=>{this.items=e.details.map(((e,a)=>({Producto:t[a],Precio:e.price,Cantidad:e.quantity,Total:e.total})))})).catch((t=>{console.error(t)}))})).catch((t=>{console.error(t)}))},handleSubmit(){const t=this.items.map((t=>({product_id:this.productos.find((e=>e.name===t.Producto)).id,quantity:t.Cantidad,price:t.Precio}))),e={date:this.venta.date,payment_type:this.venta.metodopago,customer_id:this.venta.cliente,user_id:2,details:t};b.A.post("http://18.218.15.90:8080/graphql",{query:`\n          mutation {\n            createSale(input: {\n              date: "${e.date}",\n              payment_type: "${e.payment_type}",\n              customer_id: ${e.customer_id},\n              user_id: ${e.user_id},\n              details: ${JSON.stringify(e.details).replace(/"([^"]+)":/g,"$1:")}\n            }) {\n              id\n              date\n              total\n              payment_type\n              quantity_items\n              customer_id\n              user_id\n            }\n          }\n        `}).then((t=>{console.log(t.data),this.$emit("submit",{...this.venta})})).catch((t=>{console.error(t)}))},cancelarOperacion(){this.$emit("cancelar")},agregarProducto(){const t=this.productos.find((t=>t.id===this.nuevoProducto.id));if(t&&this.nuevoProducto.cantidad>0){const e=10,a=this.nuevoProducto.cantidad*e;this.items.push({Producto:t.name,Precio:e,Cantidad:this.nuevoProducto.cantidad,Total:a}),this.calcularTotal(),this.nuevoProducto.id="",this.nuevoProducto.cantidad=1}},eliminarProducto(t){const e=this.items[t].IdDetalle;this.items.splice(t,1),b.A.post("http://18.218.15.90:8080/graphql",{query:`\n      mutation {\n        updateSale(id: "${this.venta.id}", input: {\n          date: "${this.venta.date}",\n          details: [\n            ${this.items.map((t=>{if(t.IdDetalle!==e)return`{ product_id: ${this.fetchProductId(t.Producto)}, quantity: ${t.Cantidad}, price: ${t.Precio} }`})).filter(Boolean).join(", ")} // Filtrar los detalles que no sean nulos (se excluyen los detalles que se van a eliminar)\n          ]\n        }) {\n          date\n          total\n          payment_type\n          quantity_items\n        }\n      }\n    `}).then((t=>{console.log("Venta actualizada:",t.data)})).catch((t=>{console.error("Error al actualizar la venta:",t)})),this.calcularTotal()},calcularTotal(){const t=this.items.reduce(((t,e)=>t+e.Total),0);this.venta.total=t}}},vt=pt,ht=(0,d.A)(vt,ut,mt,!1,null,null,null),ft=ht.exports,gt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"VentaList"}},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-2"},[e("button",{staticClass:"btn btn-info mb-3",attrs:{type:"button"},on:{click:function(e){return t.$emit("create")}}},[t._v("Crear")])]),e("div",{staticClass:"col-lg-4 mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchDate,expression:"searchDate"}],ref:"datetimepicker6",staticClass:"form-control",attrs:{id:"datetimepicker6",type:"date",placeholder:"Buscar por fecha"},domProps:{value:t.searchDate},on:{input:function(e){e.target.composing||(t.searchDate=e.target.value)}}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("table",{staticClass:"table"},[t._m(1),e("tbody",t._l(t.paginatedVentas,(function(a,s){return e("tr",{key:a.id},[e("th",{attrs:{scope:"row"}},[t._v(t._s(s))]),e("td",[t._v(t._s(a.date))]),e("td",[t._v(t._s(a.total))]),e("td",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("view",a)}}},[e("svg",{staticClass:"bi bi-eye",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}}),e("path",{attrs:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"}})])]),e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("delete",a.id)}}},[e("svg",{staticClass:"bi bi-x-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}}),e("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}})])])])])])})),0)]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("nav",[e("ul",{staticClass:"pagination flex-wrap d-flex justify-content-center"},[e("li",{staticClass:"page-item"},[e("button",{staticClass:"page-link",attrs:{disabled:1===t.currentPage,"data-abc":"true"},on:{click:function(e){t.currentPage--}}},[e("i",{staticClass:"fa fa-angle-left"}),t._v(" Anterior")])]),t._l(t.visiblePageNumbers,(function(a){return e("li",{key:a,staticClass:"page-item"},[e("button",{staticClass:"page-link",class:{active:a===t.currentPage},on:{click:function(e){t.currentPage=a}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item"},[e("button",{staticClass:"page-link",attrs:{disabled:t.currentPage===t.totalPages,"data-abc":"true"},on:{click:function(e){t.currentPage++}}},[t._v("Siguiente "),e("i",{staticClass:"fa fa-angle-right"})])])],2)])])])])])])},_t=[function(){var t=this,e=t._self._c;return e("h4",[e("strong",[t._v("Ventas")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Id")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Total")]),e("th",{attrs:{scope:"col"}},[t._v("Opciones")])])])}],Ct=a(692),bt=a.n(Ct),yt=(a(454),a(780),{name:"VentaList",props:{ventas:Array},data(){return{currentPage:1,pageSize:10,searchDate:""}},methods:{filteredVentas(){if(!this.searchDate)return this.ventas;const t=new Date(this.searchDate);return this.ventas.filter((e=>{const a=new Date(e.date);return a.toDateString()===t.toDateString()}))}},computed:{paginatedVentas(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.filteredVentas().slice(t,e)},totalPages(){return Math.ceil(this.filteredVentas().length/this.pageSize)},visiblePageNumbers(){const t=Math.min(5,this.totalPages),e=Math.ceil(t/2),a=Math.max(1,this.currentPage-e+1),s=Math.min(this.totalPages,a+t-1);return Array.from({length:s-a+1},((t,e)=>a+e))}},mounted(){const t=bt()(this.$refs.datetimepicker7).datepicker({format:"yyyy-mm-dd",autoclose:!0});t.on("changeDate",(t=>{$datepicker6.datepicker("setEndDate",t.date)}))}}),wt=yt,Pt=(0,d.A)(wt,gt,_t,!1,null,null,null),xt=Pt.exports,kt={name:"venta",components:{VentaForm:ft,VentaList:xt},data(){return{ventas:[],isFormVisible:!1,isEditing:!1,selectedVenta:null}},methods:{handleCreate(){this.selectedVenta={fecha:"",total:0},this.isEditing=!1,this.isFormVisible=!0},handleEdit(t){this.selectedVenta={...t},this.isEditing=!0,this.isFormVisible=!0},handleView(t){alert(`Detalles de la venta: \nFecha: ${t.date}\nTotal: ${t.total}`)},handleDelete(t){this.ventas=this.ventas.filter((e=>e.id!==t))},handleFormSubmit(t){this.isEditing?this.ventas=this.ventas.map((e=>e.id===t.id?t:e)):(t.id=this.ventas.length+1,this.ventas.push(t)),this.isFormVisible=!1,this.sortVentas()},cancelarOperacion(){this.isFormVisible=!1},sortVentas(){this.ventas.sort(((t,e)=>new Date(e.date)-new Date(t.date)))}},async mounted(){try{var t=await(0,b.A)({method:"POST",url:"http://18.218.15.90:8080/graphql",data:{query:"\n          {\n            sales {\n              id\n              date\n              total\n              payment_type\n              quantity_items\n              customer_id\n              user_id\n            }\n          }\n          "}});this.ventas=t.data.data.sales,this.sortVentas()}catch(e){console.error(e)}}},St=kt,At=(0,d.A)(St,ct,dt,!1,null,null,null),$t=At.exports,Dt=function(){var t=this,e=t._self._c;return e("div",[t.isFormVisible?e("compra-form",{attrs:{compra:t.selectedCompra,isEditing:t.isEditing},on:{submit:t.handleFormSubmit,cancelar:t.cancelarOperacion}}):e("compra-list",{attrs:{compras:t.compras},on:{create:t.handleCreate,edit:t.handleEdit,view:t.handleView,delete:t.handleDelete}})],1)},qt=[],Tt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"CompraForm"}},[e("div",{staticClass:"container formcompra justify-content-center"},[e("div",{staticClass:"row justify-content-center"},[e("h4",[e("b",[t._v(t._s(t.isEditing?"Editar Compra":"Crear Compra"))])])]),e("div",{staticClass:"row"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"row"},[e("label",{staticClass:"bold-label",attrs:{for:"cliente"}},[t._v(" Cliente ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.compra.cliente,expression:"compra.cliente"}],staticClass:"form-control",attrs:{type:"text",id:"cliente",required:""},domProps:{value:t.compra.cliente},on:{input:function(e){e.target.composing||t.$set(t.compra,"cliente",e.target.value)}}})]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.compra.fecha,expression:"compra.fecha"}],staticClass:"form-control",attrs:{type:"date",id:"fecha",required:""},domProps:{value:t.compra.fecha},on:{input:function(e){e.target.composing||t.$set(t.compra,"fecha",e.target.value)}}})]),e("div",{staticClass:"col-sm-6"},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.compra.nombreproveedor,expression:"compra.nombreproveedor"}],staticClass:"form-control",attrs:{type:"text",id:"metodopago",required:""},domProps:{value:t.compra.nombreproveedor},on:{input:function(e){e.target.composing||t.$set(t.compra,"nombreproveedor",e.target.value)}}})])]),t._m(2),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("label",{attrs:{for:"producto"}},[t._v("Producto")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.nuevoProducto.id,expression:"nuevoProducto.id"}],staticClass:"form-control",attrs:{id:"producto"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.nuevoProducto,"id",e.target.multiple?a:a[0])}}},t._l(t.productos,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0)]),e("div",{staticClass:"col-sm-4"},[e("label",{attrs:{for:"cantidad"}},[t._v("Cantidad")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nuevoProducto.cantidad,expression:"nuevoProducto.cantidad"}],staticClass:"form-control",attrs:{type:"number",id:"cantidad",required:""},domProps:{value:t.nuevoProducto.cantidad},on:{input:function(e){e.target.composing||t.$set(t.nuevoProducto,"cantidad",e.target.value)}}})]),e("div",{staticClass:"col-sm-4"},[e("button",{staticClass:"btn btn-light mt-4",on:{click:function(e){return e.preventDefault(),t.agregarProducto.apply(null,arguments)}}},[t._v("Agregar")])])]),e("div",{staticClass:"row"},[e("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(a){return[e("svg",{staticClass:"bi bi-x-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},on:{click:function(e){return t.eliminarProducto(a.index)}}},[e("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}}),e("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}})])]}}])})],1)]),e("div",{staticClass:"row",staticStyle:{"justify-content":"end"}},[e("div",{staticClass:"col-sm-2"},[e("div",{staticClass:"form-group"},[t._m(3),e("input",{directives:[{name:"model",rawName:"v-model",value:t.compra.total,expression:"compra.total"}],staticClass:"form-control",attrs:{type:"text",id:"total",required:""},domProps:{value:t.compra.total},on:{input:function(e){e.target.composing||t.$set(t.compra,"total",e.target.value)}}})])])]),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-sm-4"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(t._s(t.isEditing?"Guardar Cambios":"Crear"))])]),e("div",{staticClass:"col-sm-4"},[e("button",{staticClass:"btn btn-dark",on:{click:function(e){return e.preventDefault(),t.cancelarOperacion.apply(null,arguments)}}},[t._v("Cancelar")])])])])])])])},Vt=[function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"fecha"}},[e("b",[t._v("Fecha")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"metodopago"}},[e("b",[t._v("Nombre Proveedor")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("label",{attrs:{for:""}},[e("b",[t._v("Productos")])])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"total"}},[e("b",[t._v("Total")])])}],Nt={name:"CompraForm",props:{compra:{type:Object,default:()=>({cliente:"",fecha:"",nombreproveedor:"",productos:[],total:0})},isEditing:{type:Boolean,default:!1}},data(){return{nuevoProducto:{id:"",cantidad:1},productos:[],items:[],fields:[{key:"Producto",label:"Producto"},{key:"Precio",label:"Precio"},{key:"Cantidad",label:"Cantidad"},{key:"Total",label:"Total"},{key:"actions",label:"Acciones"}]}},created(){this.fetchProductos()},methods:{fetchProductos(){b.A.post("http://18.218.15.90:8080/graphql",{query:"\n          {\n            products {\n              id\n              name\n            }\n          }\n        "}).then((t=>{this.productos=t.data.data.products})).catch((t=>{console.error(t)}))},async handleSubmit(){const t=this.items.map((t=>({product_id:this.productos.find((e=>e.name===t.Producto)).id,quantity:t.Cantidad,price:t.Precio,total:t.Total}))),e={date:this.compra.fecha,total:parseFloat(this.compra.total),supplier_id:1,details:t};console.log("compraData",e),b.A.post("http://18.218.15.90:8080/graphql",{query:`\n          mutation {\n            createPurchase(input: {\n              date: "${e.date}"\n              total: ${e.total}\n              supplier_id: 1\n              details: ${JSON.stringify(e.details).replace(/"([^"]+)":/g,"$1:")}\n            }) {\n              id\n              total\n              date\n            }\n          }\n        `}).then((t=>{console.log(t.data),this.$emit("submit",{...this.compra})})).catch((t=>{console.error("Error al agregar la compra:",t)}))},cancelarOperacion(){this.$emit("cancelar")},agregarProducto(){const t=this.productos.find((t=>t.id===this.nuevoProducto.id));if(t&&this.nuevoProducto.cantidad>0){const e=10,a=this.nuevoProducto.cantidad*e;this.items.push({Producto:t.name,Precio:e,Cantidad:this.nuevoProducto.cantidad,Total:a}),this.calcularTotal(),this.nuevoProducto.id="",this.nuevoProducto.cantidad=1}},eliminarProducto(t){this.items.splice(t,1),this.calcularTotal()},calcularTotal(){const t=this.items.reduce(((t,e)=>t+e.Total),0);this.compra.total=t},resetCompraData(){this.compra={cliente:"",fecha:"",nombreproveedor:"",productos:[],total:0},this.items=[]}}},Et=Nt,Mt=(0,d.A)(Et,Tt,Vt,!1,null,null,null),Lt=Mt.exports,Ft=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"CompraList"}},[t._m(0),e("div",{staticClass:"col-sm-4"},[e("button",{staticClass:"btn btn-info mb-3",attrs:{type:"button"},on:{click:function(e){return t.$emit("create")}}},[t._v("Crear Compra")])]),e("div",{staticClass:"col"},[e("table",{staticClass:"table"},[t._m(1),e("tbody",t._l(t.paginatedCompras,(function(a){return e("tr",{key:a.id},[e("th",{attrs:{scope:"row"}},[t._v(t._s(a.id))]),e("td",[t._v(t._s(t.formatDate(a.date)))]),e("td",[t._v(t._s(a.total))]),e("td",[t._v(t._s(t.supplierNames[a.supplier_id]||"Cargando..."))]),e("td",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("view",a)}}},[e("svg",{staticClass:"bi bi-eye",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}}),e("path",{attrs:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"}})])]),e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("delete",a.id)}}},[e("svg",{staticClass:"bi bi-x-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}}),e("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}})])])])])])})),0)]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("nav",[e("ul",{staticClass:"pagination flex-wrap d-flex justify-content-center"},[e("li",{staticClass:"page-item"},[e("button",{staticClass:"page-link",attrs:{disabled:1===t.currentPage,"data-abc":"true"},on:{click:function(e){t.currentPage--}}},[e("i",{staticClass:"fa fa-angle-left"}),t._v(" Anterior")])]),t._l(t.visiblePageNumbers,(function(a){return e("li",{key:a,staticClass:"page-item"},[e("button",{staticClass:"page-link",class:{active:a===t.currentPage},on:{click:function(e){t.currentPage=a}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item"},[e("button",{staticClass:"page-link",attrs:{disabled:t.currentPage===t.totalPages,"data-abc":"true"},on:{click:function(e){t.currentPage++}}},[t._v("Siguiente "),e("i",{staticClass:"fa fa-angle-right"})])])],2)])])])])])},jt=[function(){var t=this,e=t._self._c;return e("h4",[e("strong",[t._v("Compras")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Id")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Total")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre Proveedor")]),e("th",{attrs:{scope:"col"}},[t._v("Opciones")])])])}],zt={name:"CompraList",props:{compras:Array},data(){return{currentPage:1,pageSize:10,searchDate:"",supplierNames:{}}},methods:{filteredCompras(){if(!this.searchDate)return this.compras;const t=new Date(this.searchDate);return this.compras.filter((e=>{const a=new Date(e.date);return a.toDateString()===t.toDateString()}))},formatDate(t){const e=new Date(t),a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${a}-${s}-${i}`},async getSupplierName(t){try{if(!this.supplierNames[t]){const e=await b.A.post("http://18.218.15.90:8080/graphql",{query:`{\n                supplier(id: "${t}") {\n                  id\n                  name\n                }\n              }\n            `});this.$set(this.supplierNames,t,e.data.data.supplier.name)}return this.supplierNames[t]}catch(e){return console.error("Error obteniendo el nombre del proveedor:",e),"Proveedor Desconocido"}},async loadSupplierNames(){const t=this.compras.map((t=>t.supplier_id)),e=[...new Set(t)];await Promise.all(e.map((t=>this.getSupplierName(t))))}},computed:{paginatedCompras(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.filteredCompras().slice(t,e)},totalPages(){return Math.ceil(this.filteredCompras().length/this.pageSize)},visiblePageNumbers(){const t=Math.min(5,this.totalPages),e=Math.ceil(t/2),a=Math.max(1,this.currentPage-e+1),s=Math.min(this.totalPages,a+t-1);return Array.from({length:s-a+1},((t,e)=>a+e))}},mounted(){this.loadSupplierNames();const t=bt()(this.$refs.datetimepicker7).datepicker({format:"yyyy-mm-dd",autoclose:!0});t.on("changeDate",(t=>{$datepicker6.datepicker("setEndDate",t.date)}))}},Ot=zt,It=(0,d.A)(Ot,Ft,jt,!1,null,null,null),Bt=It.exports,Rt={name:"compra",components:{CompraForm:Lt,CompraList:Bt},data(){return{compras:[],isFormVisible:!1,isEditing:!1,selectedCompra:null}},methods:{handleCreate(){this.selectedCompra={fecha:"",total:0},this.isEditing=!1,this.isFormVisible=!0},handleEdit(t){this.selectedCompra={...t},this.isEditing=!0,this.isFormVisible=!0},handleView(t){alert(`Detalles de la compra: \nFecha: ${t.fecha}\nTotal: ${t.total}`)},handleDelete(t){this.compras=this.compras.filter((e=>compras.id!==t))},handleFormSubmit(t){this.isEditing?this.compras=this.compras.map((e=>e.id===t.id?t:e)):(t.id=this.compras.length+1,this.compras.push(t)),this.isFormVisible=!1},cancelarOperacion(){this.isFormVisible=!1},sortCompras(){this.compras.sort(((t,e)=>new Date(e.date)-new Date(t.date)))}},async mounted(){try{var t=await(0,b.A)({method:"POST",url:"http://18.218.15.90:8080/graphql",data:{query:"\n          {\n            purchases {\n              date\n              id\n              supplier_id\n              total\n              details {\n                id\n                price\n                product_id\n                purchase_id\n                quantity\n                total\n              }\n            }\n          }\n          "}});this.compras=t.data.data.purchases,this.sortCompras()}catch(e){console.error(e)}}},Ut=Rt,Ht=(0,d.A)(Ut,Dt,qt,!1,null,null,null),Gt=Ht.exports,Kt=function(){var t=this,e=t._self._c;return e("div",[t.isFormVisible?e("producto-form",{attrs:{producto:t.selectedProducto,isEditing:t.isEditing},on:{submit:t.handleFormSubmit,cancelar:t.cancelarOperacion}}):e("producto-list",{attrs:{productos:t.productos},on:{create:t.handleCreate,edit:t.handleEdit,view:t.handleView,delete:t.handleDelete}})],1)},Yt=[],Jt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"ProductoForm"}},[e("div",{staticClass:"container formProducto"},[e("div",{staticClass:"row justify-content-center"},[e("h4",[e("b",[t._v(t._s(t.isEditing?"Editar Producto":"Crear Producto"))])])]),e("div",{staticClass:"row"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.name,expression:"producto.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",required:""},domProps:{value:t.producto.name},on:{input:function(e){e.target.composing||t.$set(t.producto,"name",e.target.value)}}})]),e("div",{staticClass:"col-sm-6"},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.description,expression:"producto.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",required:""},domProps:{value:t.producto.description},on:{input:function(e){e.target.composing||t.$set(t.producto,"description",e.target.value)}}})])])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[t._m(2),e("select",{directives:[{name:"model",rawName:"v-model",value:t.producto.brand_id,expression:"producto.brand_id"}],staticClass:"form-control",attrs:{id:"brand_id",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.producto,"brand_id",e.target.multiple?a:a[0])}}},t._l(t.brands,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0)]),e("div",{staticClass:"col-sm-6"},[t._m(3),e("select",{directives:[{name:"model",rawName:"v-model",value:t.producto.model_id,expression:"producto.model_id"}],staticClass:"form-control",attrs:{id:"model_id",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.producto,"model_id",e.target.multiple?a:a[0])}}},t._l(t.models,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0)])])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[t._m(4),e("select",{directives:[{name:"model",rawName:"v-model",value:t.producto.color_id,expression:"producto.color_id"}],staticClass:"form-control",attrs:{id:"color_id",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.producto,"color_id",e.target.multiple?a:a[0])}}},t._l(t.colors,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0)]),e("div",{staticClass:"col-sm-6"},[t._m(5),e("select",{directives:[{name:"model",rawName:"v-model",value:t.producto.size_id,expression:"producto.size_id"}],staticClass:"form-control",attrs:{id:"size_id",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.producto,"size_id",e.target.multiple?a:a[0])}}},t._l(t.sizes,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0)])])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[t._m(6),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.price,expression:"producto.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",required:""},domProps:{value:t.producto.price},on:{input:function(e){e.target.composing||t.$set(t.producto,"price",e.target.value)}}})]),e("div",{staticClass:"col-sm-6"},[t._m(7),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.stock,expression:"producto.stock"}],staticClass:"form-control",attrs:{type:"number",id:"stock",required:""},domProps:{value:t.producto.stock},on:{input:function(e){e.target.composing||t.$set(t.producto,"stock",e.target.value)}}})])])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[t._m(8),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.code,expression:"producto.code"}],staticClass:"form-control",attrs:{type:"text",id:"code",required:""},domProps:{value:t.producto.code},on:{input:function(e){e.target.composing||t.$set(t.producto,"code",e.target.value)}}})])])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[t._m(9),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.image,expression:"producto.image"}],staticClass:"form-control",attrs:{type:"text",id:"image",required:""},domProps:{value:t.producto.image},on:{input:function(e){e.target.composing||t.$set(t.producto,"image",e.target.value)}}})])])]),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-sm-4"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(t._s(t.isEditing?"Guardar Cambios":"Crear"))])]),e("div",{staticClass:"col-sm-4"},[e("button",{staticClass:"btn btn-dark",on:{click:function(e){return e.preventDefault(),t.cancelarOperacion.apply(null,arguments)}}},[t._v("Cancelar")])])])])])])])},Wt=[function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"name"}},[e("b",[t._v("Nombre Producto")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"description"}},[e("b",[t._v("Descripción")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"brand_id"}},[e("b",[t._v("Marca")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"model_id"}},[e("b",[t._v("Modelo")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"color_id"}},[e("b",[t._v("Color")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"size_id"}},[e("b",[t._v("Tamaño")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"price"}},[e("b",[t._v("Precio")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"stock"}},[e("b",[t._v("Stock")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"code"}},[e("b",[t._v("Código")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"image"}},[e("b",[t._v("Imagen")])])}],Qt={name:"productoForm",props:{producto:{type:Object,default:()=>({brand_id:"",code:"",description:"",color_id:"",image:"",model_id:"",name:"",price:0,size_id:"",stock:0})},isEditing:{type:Boolean,default:!1}},data(){return{brands:[],colors:[],sizes:[],models:[]}},created(){this.fetchData()},methods:{fetchData(){const t=[{key:"brands",query:"\n            {\n              brands {\n                id\n                name\n              }\n            }\n          "},{key:"colors",query:"\n            {\n              colors {\n                id\n                name\n              }\n            }\n          "},{key:"sizes",query:"\n            {\n              sizes {\n                id\n                name\n              }\n            }\n          "},{key:"models",query:"\n            {\n              models {\n                id\n                name\n              }\n            }\n          "}];t.forEach((({key:t,query:e})=>{b.A.post("http://18.218.15.90:8080/graphql",{query:e}).then((e=>{this[t]=e.data.data[t]})).catch((e=>{console.error(`Error fetching ${t}:`,e)}))}))},handleSubmit(){const t={name:this.producto.name,description:this.producto.description,price:parseFloat(this.producto.price),stock:parseInt(this.producto.stock),code:this.producto.code,brand_id:parseInt(this.producto.brand_id),color_id:parseInt(this.producto.color_id),image:this.producto.image,model_id:parseInt(this.producto.model_id),size_id:parseInt(this.producto.size_id)};b.A.post("http://18.218.15.90:8080/graphql",{query:`\n          mutation {\n            createProduct(\n              input: {\n                name: "${t.name}",\n                description: "${t.description}",\n                price: ${t.price},\n                stock: ${t.stock},\n                code: "${t.code}",\n                brand_id: ${t.brand_id},\n                color_id: ${t.color_id},\n                image: "${t.image}",\n                model_id: ${t.model_id},\n                size_id: ${t.size_id}\n              }\n            ) {\n              id\n              brand_id\n              code\n              color_id\n              description\n              image\n              model_id\n              name\n              price\n              size_id\n              stock\n            }\n          }\n        `}).then((t=>{console.log(t.data),this.$emit("submit",{...this.producto})})).catch((t=>{console.error(t)}))},cancelarOperacion(){this.$emit("cancelar")}}},Xt=Qt,Zt=(0,d.A)(Xt,Jt,Wt,!1,null,null,null),te=Zt.exports,ee=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"ProductoList"}},[t._m(0),e("div",{staticClass:"col-sm-4"},[e("button",{staticClass:"btn btn-info mb-3",attrs:{type:"button"},on:{click:function(e){return t.$emit("create")}}},[t._v("Crear Producto")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("table",{staticClass:"table"},[t._m(1),e("tbody",t._l(t.paginatedProductos,(function(a){return e("tr",{key:a.id},[e("th",{attrs:{scope:"row"}},[t._v(t._s(a.code))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.description))]),e("td",[t._v(t._s(a.stock))]),e("td",[t._v(t._s(a.price))]),e("td",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("edit",a)}}},[e("svg",{staticClass:"bi bi-pencil-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"}})])]),e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("view",a)}}},[e("svg",{staticClass:"bi bi-eye",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}}),e("path",{attrs:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"}})])]),e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("delete",a.id)}}},[e("svg",{staticClass:"bi bi-x-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}}),e("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}})])])])])])})),0)]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("nav",[e("ul",{staticClass:"pagination flex-wrap d-flex justify-content-center"},[e("li",{staticClass:"page-item"},[e("button",{staticClass:"page-link",attrs:{disabled:1===t.currentPage,"data-abc":"true"},on:{click:function(e){t.currentPage--}}},[e("i",{staticClass:"fa fa-angle-left"}),t._v(" Anterior")])]),t._l(t.visiblePageNumbers,(function(a){return e("li",{key:a,staticClass:"page-item"},[e("button",{staticClass:"page-link",class:{active:a===t.currentPage},on:{click:function(e){t.currentPage=a}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item"},[e("button",{staticClass:"page-link",attrs:{disabled:t.currentPage===t.totalPages,"data-abc":"true"},on:{click:function(e){t.currentPage++}}},[t._v("Siguiente "),e("i",{staticClass:"fa fa-angle-right"})])])],2)])])])])])])},ae=[function(){var t=this,e=t._self._c;return e("h4",[e("strong",[t._v("Productos")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Codigo")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Stock")]),e("th",{attrs:{scope:"col"}},[t._v("Precio")]),e("th",{attrs:{scope:"col"}},[t._v("Opciones")])])])}],se={name:"ProductoList",props:{productos:Array},data(){return{currentPage:1,pageSize:10,searchDate:""}},methods:{filteredProductos(){if(!this.searchDate)return this.productos;const t=new Date(this.searchDate);return this.productos.filter((e=>{const a=new Date(e.date);return a.toDateString()===t.toDateString()}))}},computed:{paginatedProductos(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.filteredProductos().slice(t,e)},totalPages(){return Math.ceil(this.filteredProductos().length/this.pageSize)},visiblePageNumbers(){const t=Math.min(5,this.totalPages),e=Math.ceil(t/2),a=Math.max(1,this.currentPage-e+1),s=Math.min(this.totalPages,a+t-1);return Array.from({length:s-a+1},((t,e)=>a+e))}},mounted(){const t=bt()(this.$refs.datetimepicker7).datepicker({format:"yyyy-mm-dd",autoclose:!0});t.on("changeDate",(t=>{$datepicker6.datepicker("setEndDate",t.date)}))}},ie=se,re=(0,d.A)(ie,ee,ae,!1,null,null,null),oe=re.exports,ne={name:"producto",components:{ProductoForm:te,ProductoList:oe},data(){return{productos:[],isFormVisible:!1,isEditing:!1,selectedProducto:null}},methods:{handleCreate(){this.selectedProducto={fecha:"",total:0},this.isEditing=!1,this.isFormVisible=!0},handleEdit(t){this.selectedProducto={...t},this.isEditing=!0,this.isFormVisible=!0},handleView(t){alert(`Detalles de la producto: \nFecha: ${t.fecha}\nTotal: ${t.total}`)},handleDelete(t){this.productos=this.productos.filter((e=>e.id!==t))},handleFormSubmit(t){this.isEditing?this.productos=this.productos.map((e=>e.id===t.id?t:e)):(t.id=this.productos.length+1,this.productos.push(t)),this.isFormVisible=!1,this.sortProductos()},cancelarOperacion(){this.isFormVisible=!1},sortProductos(){this.productos.sort(((t,e)=>new Date(e.date)-new Date(t.date)))}},async mounted(){try{var t=await(0,b.A)({method:"POST",url:"http://18.218.15.90:8080/graphql",data:{query:"\n         {\n          products {\n            brand_id\n            code\n            color_id\n            description\n            id\n            image\n            model_id\n            name\n            price\n            size_id\n            stock\n          }\n        }\n          "}});this.productos=t.data.data.products,this.sortProductos()}catch(e){console.error(e)}}},le=ne,ce=(0,d.A)(le,Kt,Yt,!1,null,null,null),de=ce.exports,ue=function(){var t=this,e=t._self._c;return e("div",[e("usuario-list",{attrs:{usuarios:t.usuarios},on:{create:t.handleCreate,edit:t.handleEdit,view:t.handleView,delete:t.handleDelete}})],1)},me=[],pe=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"UsuarioList"}},[t._m(0),e("div",{staticClass:"col"},[e("table",{staticClass:"table"},[t._m(1),e("tbody",t._l(t.paginatedUsuarios,(function(a){return e("tr",{key:a.id},[e("th",{attrs:{scope:"row"}},[t._v(t._s(a.id))]),e("td",[t._v(t._s(a.username))]),e("td",[t._v(t._s(a.email))]),e("td",[t._v(t._s(a.role))]),e("td",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("edit",a)}}},[e("svg",{staticClass:"bi bi-pencil-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"}})])]),e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("view",a)}}},[e("svg",{staticClass:"bi bi-eye",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}}),e("path",{attrs:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"}})])]),e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("delete",a.id)}}},[e("svg",{staticClass:"bi bi-x-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}}),e("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}})])])])])])})),0)]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("nav",[e("ul",{staticClass:"pagination flex-wrap d-flex justify-content-center"},[e("li",{staticClass:"page-item"},[e("button",{staticClass:"page-link",attrs:{disabled:1===t.currentPage,"data-abc":"true"},on:{click:function(e){t.currentPage--}}},[e("i",{staticClass:"fa fa-angle-left"}),t._v(" Anterior")])]),t._l(t.visiblePageNumbers,(function(a){return e("li",{key:a,staticClass:"page-item"},[e("button",{staticClass:"page-link",class:{active:a===t.currentPage},on:{click:function(e){t.currentPage=a}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item"},[e("button",{staticClass:"page-link",attrs:{disabled:t.currentPage===t.totalPages,"data-abc":"true"},on:{click:function(e){t.currentPage++}}},[t._v("Siguiente "),e("i",{staticClass:"fa fa-angle-right"})])])],2)])])])])])},ve=[function(){var t=this,e=t._self._c;return e("h4",[e("strong",[t._v("Usuarios")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Id")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre Usuario")]),e("th",{attrs:{scope:"col"}},[t._v("E-mail")]),e("th",{attrs:{scope:"col"}},[t._v("Rol")]),e("th",{attrs:{scope:"col"}},[t._v("Opciones")])])])}],he={name:"UsuarioList",props:{usuarios:Array},data(){return{currentPage:1,pageSize:10,searchDate:""}},methods:{filteredUsuarios(){if(!this.searchDate)return this.usuarios;const t=new Date(this.searchDate);return this.usuarios.filter((e=>{const a=new Date(e.date);return a.toDateString()===t.toDateString()}))}},computed:{paginatedUsuarios(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.filteredUsuarios().slice(t,e)},totalPages(){return Math.ceil(this.filteredUsuarios().length/this.pageSize)},visiblePageNumbers(){const t=Math.min(5,this.totalPages),e=Math.ceil(t/2),a=Math.max(1,this.currentPage-e+1),s=Math.min(this.totalPages,a+t-1);return Array.from({length:s-a+1},((t,e)=>a+e))}},mounted(){const t=bt()(this.$refs.datetimepicker7).datepicker({format:"yyyy-mm-dd",autoclose:!0});t.on("changeDate",(t=>{$datepicker6.datepicker("setEndDate",t.date)}))}},fe=he,ge=(0,d.A)(fe,pe,ve,!1,null,null,null),_e=ge.exports,Ce={name:"Usuario",components:{UsuarioList:_e},data(){return{usuarios:[],isFormVisible:!1,isEditing:!1,selectedUsuario:null}},methods:{handleCreate(){this.selectedUsuario={fecha:"",total:0},this.isEditing=!1,this.isFormVisible=!0},handleEdit(t){this.selectedUsuario={...t},this.isEditing=!0,this.isFormVisible=!0},handleView(t){alert(`Detalles de la usuario: \nFecha: ${t.fecha}\nTotal: ${t.total}`)},handleDelete(t){this.usuarios=this.usuarios.filter((e=>e.id!==t))},handleFormSubmit(t){this.isEditing?this.usuarios=this.usuarios.map((e=>e.id===t.id?t:e)):(t.id=this.usuarios.length+1,this.usuarios.push(t)),this.isFormVisible=!1},cancelarOperacion(){this.isFormVisible=!1},sortUsuarios(){this.usuarios.sort(((t,e)=>new Date(e.date)-new Date(t.date)))}},async mounted(){try{var t=await(0,b.A)({method:"POST",url:"http://18.218.15.90:8080/graphql",data:{query:"\n          {\n            users {\n              email\n              id\n              password\n              role\n              username\n            }\n          }\n          "}});this.usuarios=t.data.data.users,this.sortUsuarios()}catch(e){console.error(e)}}},be=Ce,ye=(0,d.A)(be,ue,me,!1,null,null,null),we=ye.exports,Pe=function(){var t=this,e=t._self._c;return e("div",[e("proveedor-list",{attrs:{proveedores:t.proveedores},on:{create:t.handleCreate,edit:t.handleEdit,view:t.handleView,delete:t.handleDelete}})],1)},xe=[],ke=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"ProveedorList"}},[t._m(0),e("br"),e("div",{staticClass:"col"},[e("table",{staticClass:"table"},[t._m(1),e("tbody",t._l(t.paginatedProveedores,(function(a){return e("tr",{key:a.id},[e("th",{attrs:{scope:"row"}},[t._v(t._s(a.id))]),e("td",[t._v(t._s(t.supplierNames[a.supplier_id]||"Cargando..."))]),e("td",[t._v(t._s(t.formatDate(a.date)))]),e("td",[t._v(t._s(a.total))]),e("td",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("view",a)}}},[e("svg",{staticClass:"bi bi-eye",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}}),e("path",{attrs:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"}})])]),e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("delete",a.id)}}},[e("svg",{staticClass:"bi bi-x-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}}),e("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}})])])])])])})),0)]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("nav",[e("ul",{staticClass:"pagination flex-wrap d-flex justify-content-center"},[e("li",{staticClass:"page-item"},[e("button",{staticClass:"page-link",attrs:{disabled:1===t.currentPage,"data-abc":"true"},on:{click:function(e){t.currentPage--}}},[e("i",{staticClass:"fa fa-angle-left"}),t._v(" Anterior")])]),t._l(t.visiblePageNumbers,(function(a){return e("li",{key:a,staticClass:"page-item"},[e("button",{staticClass:"page-link",class:{active:a===t.currentPage},on:{click:function(e){t.currentPage=a}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item"},[e("button",{staticClass:"page-link",attrs:{disabled:t.currentPage===t.totalPages,"data-abc":"true"},on:{click:function(e){t.currentPage++}}},[t._v("Siguiente "),e("i",{staticClass:"fa fa-angle-right"})])])],2)])])])])])},Se=[function(){var t=this,e=t._self._c;return e("h4",[e("strong",[t._v("Proveedores")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Id")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Total")]),e("th",{attrs:{scope:"col"}},[t._v("Opciones")])])])}],Ae={name:"ProveedorList",props:{proveedores:Array},data(){return{currentPage:1,pageSize:10,searchDate:"",supplierNames:{}}},methods:{filteredProveedor(){if(!this.searchDate)return this.proveedores;const t=new Date(this.searchDate);return this.proveedores.filter((e=>{const a=new Date(e.date);return a.toDateString()===t.toDateString()}))},formatDate(t){const e=new Date(t),a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${a}-${s}-${i}`},async getSupplierName(t){try{if(!this.supplierNames[t]){const e=await b.A.post("http://18.218.15.90:8080/graphql",{query:`{\n                supplier(id: "${t}") {\n                  id\n                  name\n                }\n              }\n            `});this.$set(this.supplierNames,t,e.data.data.supplier.name)}return this.supplierNames[t]}catch(e){return console.error("Error obteniendo el nombre del proveedor:",e),"Proveedor Desconocido"}},async loadSupplierNames(){const t=this.proveedores.map((t=>t.supplier_id)),e=[...new Set(t)];await Promise.all(e.map((t=>this.getSupplierName(t))))}},computed:{paginatedProveedores(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.filteredProveedor().slice(t,e)},totalPages(){return Math.ceil(this.filteredProveedor().length/this.pageSize)},visiblePageNumbers(){const t=Math.min(5,this.totalPages),e=Math.ceil(t/2),a=Math.max(1,this.currentPage-e+1),s=Math.min(this.totalPages,a+t-1);return Array.from({length:s-a+1},((t,e)=>a+e))}},mounted(){this.loadSupplierNames();const t=bt()(this.$refs.datetimepicker7).datepicker({format:"yyyy-mm-dd",autoclose:!0});t.on("changeDate",(t=>{$datepicker6.datepicker("setEndDate",t.date)}))}},$e=Ae,De=(0,d.A)($e,ke,Se,!1,null,null,null),qe=De.exports,Te={name:"Proveedor",components:{ProveedorList:qe},data(){return{proveedores:[],isFormVisible:!1,isEditing:!1,selectedProveedor:null}},methods:{handleCreate(){this.selectedProveedor={fecha:"",total:0},this.isEditing=!1,this.isFormVisible=!0},handleEdit(t){this.selectedproveedor={...t},this.isEditing=!0,this.isFormVisible=!0},handleView(t){alert(`Detalles de la proveedor: \nFecha: ${t.fecha}\nTotal: ${t.total}`)},handleDelete(t){this.proveedores=this.proveedores.filter((e=>e.id!==t))},handleFormSubmit(t){this.isEditing?this.proveedores=this.proveedores.map((e=>e.id===t.id?t:e)):(t.id=this.proveedores.length+1,this.proveedores.push(t)),this.isFormVisible=!1},cancelarOperacion(){this.isFormVisible=!1},sort(){this.proveedores.sort(((t,e)=>new Date(e.date)-new Date(t.date)))}},async mounted(){try{var t=await(0,b.A)({method:"POST",url:"http://18.218.15.90:8080/graphql",data:{query:"\n          {\n            purchases {\n            date\n            id\n            supplier_id\n            total\n            details {\n              id\n              price\n              product_id\n              purchase_id\n              quantity\n              total\n            }\n          }\n        }\n          "}});this.proveedores=t.data.data.purchases,this.sort()}catch(e){console.error(e)}}},Ve=Te,Ne=(0,d.A)(Ve,Pe,xe,!1,null,null,null),Ee=Ne.exports,Me=function(){var t=this,e=t._self._c;return e("div",[t.isFormVisible?e("cliente-form",{attrs:{cliente:t.selectedcliente,isEditing:t.isEditing},on:{submit:t.handleFormSubmit,cancelar:t.cancelarOperacion}}):e("cliente-list",{attrs:{clientes:t.clientes},on:{create:t.handleCreate,edit:t.handleEdit,view:t.handleView,delete:t.handleDelete}})],1)},Le=[],Fe=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"clienteForm"}},[e("div",{staticClass:"container formcliente justify-content-center"},[e("div",{staticClass:"row justify-content-center"},[e("h4",[e("b",[t._v(t._s(t.isEditing?"Editar cliente":"Crear cliente"))])])]),e("div",{staticClass:"row"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"row"},[e("label",{staticClass:"bold-label",attrs:{for:"cliente"}},[t._v(" Cliente ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.cliente.cliente,expression:"cliente.cliente"}],staticClass:"form-control",attrs:{type:"text",id:"cliente",required:""},domProps:{value:t.cliente.cliente},on:{input:function(e){e.target.composing||t.$set(t.cliente,"cliente",e.target.value)}}})]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.cliente.fecha,expression:"cliente.fecha"}],staticClass:"form-control",attrs:{type:"date",id:"fecha",required:""},domProps:{value:t.cliente.fecha},on:{input:function(e){e.target.composing||t.$set(t.cliente,"fecha",e.target.value)}}})]),e("div",{staticClass:"col-sm-6"},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.cliente.metodopago,expression:"cliente.metodopago"}],staticClass:"form-control",attrs:{type:"text",id:"metodopago",required:""},domProps:{value:t.cliente.metodopago},on:{input:function(e){e.target.composing||t.$set(t.cliente,"metodopago",e.target.value)}}})])]),t._m(2),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("label",{attrs:{for:"producto"}},[t._v("Producto")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nuevoProducto.nombre,expression:"nuevoProducto.nombre"}],staticClass:"form-control",attrs:{type:"text",id:"producto"},domProps:{value:t.nuevoProducto.nombre},on:{input:function(e){e.target.composing||t.$set(t.nuevoProducto,"nombre",e.target.value)}}})]),e("div",{staticClass:"col-sm-4"},[e("label",{attrs:{for:"cantidad"}},[t._v("Cantidad")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nuevoProducto.cantidad,expression:"nuevoProducto.cantidad"}],staticClass:"form-control",attrs:{type:"number",id:"cantidad",required:""},domProps:{value:t.nuevoProducto.cantidad},on:{input:function(e){e.target.composing||t.$set(t.nuevoProducto,"cantidad",e.target.value)}}})]),e("div",{staticClass:"col-sm-4"},[e("button",{staticClass:"btn btn-light mt-4",on:{click:function(e){return e.preventDefault(),t.agregarProducto.apply(null,arguments)}}},[t._v("Agregar")])])]),e("div",{staticClass:"row"},[e("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(a){return[e("svg",{staticClass:"bi bi-x-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},on:{click:function(e){return t.eliminarProducto(a.index)}}},[e("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}}),e("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}})])]}}])})],1)]),e("div",{staticClass:"row",staticStyle:{"justify-content":"end"}},[e("div",{staticClass:"col-sm-2"},[e("div",{staticClass:"form-group"},[t._m(3),e("input",{directives:[{name:"model",rawName:"v-model",value:t.cliente.total,expression:"cliente.total"}],staticClass:"form-control",attrs:{type:"text",id:"total",required:""},domProps:{value:t.cliente.total},on:{input:function(e){e.target.composing||t.$set(t.cliente,"total",e.target.value)}}})])])]),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-sm-4"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(t._s(t.isEditing?"Guardar Cambios":"Crear"))])]),e("div",{staticClass:"col-sm-4"},[e("button",{staticClass:"btn btn-dark",on:{click:function(e){return e.preventDefault(),t.cancelarOperacion.apply(null,arguments)}}},[t._v("Cancelar")])])])])])])])},je=[function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"fecha"}},[e("b",[t._v("Fecha")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"metodopago"}},[e("b",[t._v("Metodo Pago")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("label",{attrs:{for:""}},[e("b",[t._v("Productos")])])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"total"}},[e("b",[t._v("Total")])])}],ze={name:"clienteForm",props:{cliente:{type:Object,default:()=>({cliente:"",fecha:"",metodopago:"",productos:[],total:0})},isEditing:{type:Boolean,default:!1}},data(){return{nuevoProducto:{nombre:"",cantidad:1},items:[{Producto:"luz",Precio:"10",Cantidad:"2",Total:"20"}],fields:[{key:"Producto",label:"Producto"},{key:"Precio",label:"Precio"},{key:"Cantidad",label:"Cantidad"},{key:"Total",label:"Total"},{key:"actions",label:"Acciones"}]}},methods:{handleSubmit(){this.$emit("submit",{...this.cliente})},cancelarOperacion(){this.$emit("cancelar")},agregarProducto(){if(this.nuevoProducto.nombre&&this.nuevoProducto.cantidad>0){const t=10,e=this.nuevoProducto.cantidad*t;this.items.push({Producto:this.nuevoProducto.nombre,Precio:t,Cantidad:this.nuevoProducto.cantidad,Total:e,Accion:""}),this.nuevoProducto.nombre="",this.nuevoProducto.cantidad=1}},eliminarProducto(t){this.items.splice(t,1)}}},Oe=ze,Ie=(0,d.A)(Oe,Fe,je,!1,null,null,null),Be=Ie.exports,Re=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"clienteList"}},[t._m(0),e("div",{staticClass:"col"},[e("table",{staticClass:"table"},[t._m(1),e("tbody",t._l(t.paginatedClientes,(function(a){return e("tr",{key:a.id},[e("th",{attrs:{scope:"row"}},[t._v(t._s(a.id))]),e("td",[t._v(t._s(a.email))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.phone))]),e("td",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("edit",a)}}},[e("svg",{staticClass:"bi bi-pencil-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"}})])]),e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("view",a)}}},[e("svg",{staticClass:"bi bi-eye",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}}),e("path",{attrs:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"}})])]),e("div",{staticClass:"col-sm-2",on:{click:function(e){return t.$emit("delete",a.id)}}},[e("svg",{staticClass:"bi bi-x-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}}),e("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}})])])])])])})),0)]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("nav",[e("ul",{staticClass:"pagination flex-wrap d-flex justify-content-center"},[e("li",{staticClass:"page-item"},[e("button",{staticClass:"page-link",attrs:{disabled:1===t.currentPage,"data-abc":"true"},on:{click:function(e){t.currentPage--}}},[e("i",{staticClass:"fa fa-angle-left"}),t._v(" Anterior")])]),t._l(t.visiblePageNumbers,(function(a){return e("li",{key:a,staticClass:"page-item"},[e("button",{staticClass:"page-link",class:{active:a===t.currentPage},on:{click:function(e){t.currentPage=a}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item"},[e("button",{staticClass:"page-link",attrs:{disabled:t.currentPage===t.totalPages,"data-abc":"true"},on:{click:function(e){t.currentPage++}}},[t._v("Siguiente "),e("i",{staticClass:"fa fa-angle-right"})])])],2)])])])])])},Ue=[function(){var t=this,e=t._self._c;return e("h4",[e("strong",[t._v("clientes")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Id")]),e("th",{attrs:{scope:"col"}},[t._v("E-mail")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Telefono")])])])}],He={name:"clienteList",props:{clientes:Array},data(){return{currentPage:1,pageSize:10,searchDate:""}},methods:{filteredClientes(){if(!this.searchDate)return this.clientes;const t=new Date(this.searchDate);return this.clientes.filter((e=>{const a=new Date(e.date);return a.toDateString()===t.toDateString()}))}},computed:{paginatedClientes(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.filteredClientes().slice(t,e)},totalPages(){return Math.ceil(this.filteredClientes().length/this.pageSize)},visiblePageNumbers(){const t=Math.min(5,this.totalPages),e=Math.ceil(t/2),a=Math.max(1,this.currentPage-e+1),s=Math.min(this.totalPages,a+t-1);return Array.from({length:s-a+1},((t,e)=>a+e))}},mounted(){const t=bt()(this.$refs.datetimepicker7).datepicker({format:"yyyy-mm-dd",autoclose:!0});t.on("changeDate",(t=>{$datepicker6.datepicker("setEndDate",t.date)}))}},Ge=He,Ke=(0,d.A)(Ge,Re,Ue,!1,null,null,null),Ye=Ke.exports,Je={name:"cliente",components:{clienteForm:Be,clienteList:Ye},data(){return{clientes:[],isFormVisible:!1,isEditing:!1,selectedcliente:null}},methods:{handleCreate(){this.selectedcliente={fecha:"",total:0},this.isEditing=!1,this.isFormVisible=!0},handleEdit(t){this.selectedcliente={...t},this.isEditing=!0,this.isFormVisible=!0},handleView(t){alert(`Detalles de la cliente: \nFecha: ${t.fecha}\nTotal: ${t.total}`)},handleDelete(t){this.clientes=this.clientes.filter((e=>e.id!==t))},handleFormSubmit(t){this.isEditing?this.clientes=this.clientes.map((e=>e.id===t.id?t:e)):(t.id=this.clientes.length+1,this.clientes.push(t)),this.isFormVisible=!1},cancelarOperacion(){this.isFormVisible=!1},sortCliente(){this.clientes.sort(((t,e)=>new Date(e.date)-new Date(t.date)))}},async mounted(){try{var t=await(0,b.A)({method:"POST",url:"http://18.218.15.90:8080/graphql",data:{query:"{\n          customers {\n            email\n            id\n            name\n            phone\n          }\n          }\n          "}});this.clientes=t.data.data.customers,this.sortCliente()}catch(e){console.error(e)}}},We=Je,Qe=(0,d.A)(We,Me,Le,!1,null,null,null),Xe=Qe.exports,Ze={components:{venta:$t,compra:Gt,productos:de,usuarios:we,proveedor:Ee,cliente:Xe},data(){return{activeTab:null,username:"",userRole:""}},created(){this.username=localStorage.getItem("username"),this.userRole=localStorage.getItem("role")},methods:{activateTab(t){this.activeTab=t,console.log(this.userRole)},logout(){localStorage.removeItem("username"),localStorage.removeItem("role"),this.$router.push({name:"home"})}},computed:{showDashboardLink(){return"Administrador"===this.userRole},showVentasLink(){return"Cajero"===this.userRole||"Administrador"===this.userRole},showComprasLink(){return"Supervisor"===this.userRole||"Administrador"===this.userRole},showProductosLink(){return"Cajero"===this.userRole||"Supervisor"===this.userRole||"Administrador"===this.userRole},showUsuariosLink(){return"Administrador"===this.userRole},showProveedorLink(){return"Supervisor"===this.userRole||"Administrador"===this.userRole},showClienteLink(){return"Cajero"===this.userRole||"Administrador"===this.userRole}}},ta=Ze,ea=(0,d.A)(ta,nt,lt,!1,null,null,null),aa=ea.exports,sa={components:{sidebar:aa},name:"dashboard",data(){return{activeTab:null}},methods:{activateTab(t){this.activeTab=t}}},ia=sa,ra=(0,d.A)(ia,rt,ot,!1,null,null,null),oa=ra.exports;s["default"].use(g.Ay);const na=[{path:"/dashboard",name:"dashboard",component:oa}];var la=na;s["default"].use(g.Ay);const ca=[{path:"/",name:"home",component:q},{path:"/about",name:"about",component:function(){return a.e(594).then(a.bind(a,644))}},...W,...it,...la],da=new g.Ay({mode:"history",base:"/",routes:ca});var ua=da,ma=a(353);s["default"].use(ma.Ay);var pa=new ma.Ay.Store({state:{},getters:{},mutations:{},actions:{},modules:{Usuario:W,Tienda:it,dashboard:la}}),va=a(919);a(313);s["default"].use(va.Ay$),s["default"].config.productionTip=!1,new s["default"]({router:ua,store:pa,render:function(t){return t(f)}}).$mount("#app")}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,r){if(!s){var o=1/0;for(d=0;d<t.length;d++){s=t[d][0],i=t[d][1],r=t[d][2];for(var n=!0,l=0;l<s.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(n=!1,r<o&&(o=r));if(n){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[s,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,s){return a.f[s](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/about.e0905e8d.js"}}(),function(){a.miniCssF=function(t){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="tiendaropamujer:";a.l=function(s,i,r,o){if(t[s])t[s].push(i);else{var n,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==e+r){n=u;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",e+r),n.src=s),t[s]=[i];var m=function(e,a){n.onerror=n.onload=null,clearTimeout(p);var i=t[s];if(delete t[s],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((function(t){return t(a)})),e)return e(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t={524:0};a.f.j=function(e,s){var i=a.o(t,e)?t[e]:void 0;if(0!==i)if(i)s.push(i[2]);else{var r=new Promise((function(a,s){i=t[e]=[a,s]}));s.push(i[2]=r);var o=a.p+a.u(e),n=new Error,l=function(s){if(a.o(t,e)&&(i=t[e],0!==i&&(t[e]=void 0),i)){var r=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;n.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",n.name="ChunkLoadError",n.type=r,n.request=o,i[1](n)}};a.l(o,l,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,r,o=s[0],n=s[1],l=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(l)var d=l(a)}for(e&&e(s);c<o.length;c++)r=o[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(d)},s=self["webpackChunktiendaropamujer"]=self["webpackChunktiendaropamujer"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(937)}));s=a.O(s)})();
//# sourceMappingURL=app.a8c3883b.js.map